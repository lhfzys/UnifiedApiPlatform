# ========================================
# UnifiedApiPlatform 环境变量配置模板
# ========================================
# 使用说明：
# 1. 复制此文件为 .env
# 2. 修改所有密码和密钥
# 3. 不要将 .env 提交到 Git
# ========================================

# ==================== 应用配置 ====================
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://+:5000

# ==================== PostgreSQL 配置 ====================
POSTGRES_DB=unifiedapi_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# 数据库连接池配置
DATABASE_MIN_POOL_SIZE=5
DATABASE_MAX_POOL_SIZE=20
DATABASE_CONNECTION_TIMEOUT=30
DATABASE_COMMAND_TIMEOUT=60

# ==================== JWT 配置 ====================
# 重要：生产环境必须使用强密钥（至少32个字符）
JWT_SECRET_KEY=UnifiedApi2025SecretKeyChangeThisInProduction123456789ABCD
JWT_ISSUER=UnifiedApiPlatform.API
JWT_AUDIENCE=UnifiedApiPlatform.Client
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=7
JWT_MAX_REFRESH_TOKENS_PER_USER=5

# ==================== Redis 配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_INSTANCE_NAME=UnifiedApiPlatform
REDIS_DATABASE=0
REDIS_CONNECT_TIMEOUT=5000
REDIS_SYNC_TIMEOUT=5000

# ==================== RabbitMQ 配置 ====================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VIRTUAL_HOST=/

# ==================== MinIO 配置 ====================
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=unifiedapi

# ==================== Seq 日志配置 ====================
SEQ_URL=http://localhost:5341
SEQ_API_KEY=
SEQ_FIRSTRUN_ADMINUSERNAME=admin
SEQ_FIRSTRUN_ADMIN_PASSWORD=admin123

# ==================== SMTP 邮件配置 ====================
SMTP_SERVER=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourcompany.com
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_EMAIL=noreply@yourcompany.com
SMTP_FROM_NAME=UnifiedApiPlatform
SMTP_ENABLE_SSL=true

# ==================== Hangfire Dashboard 配置 ====================
HANGFIRE_DASHBOARD_USERNAME=admin
HANGFIRE_DASHBOARD_PASSWORD=admin123
HANGFIRE_WORKER_COUNT=10
HANGFIRE_JOB_RETRY_ATTEMPTS=3

# ==================== CORS 配置 ====================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com

# ==================== 文件存储配置 ====================
FILE_STORAGE_PROVIDER=Local
FILE_STORAGE_LOCAL_PATH=/app/uploads
FILE_STORAGE_BASE_URL=http://localhost:5116
FILE_STORAGE_MAX_FILE_SIZE_MB=10
FILE_STORAGE_MAX_LARGE_FILE_SIZE_MB=50
FILE_STORAGE_ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.gif,.pdf,.xlsx,.docx,.zip
FILE_STORAGE_TEMP_FILE_EXPIRATION_HOURS=24

# ==================== 限流配置 ====================
RATE_LIMIT_ENABLE=true
RATE_LIMIT_GLOBAL_PER_MINUTE=60
RATE_LIMIT_LOGIN_PER_15MINUTES=5

# ==================== OpenTelemetry 配置 ====================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=UnifiedApiPlatform.API

# ==================== 其他配置 ====================
ENABLE_SWAGGER=true
ENABLE_DETAILED_ERRORS=true
SUPPORT_EMAIL=support@yourcompany.com
